/*

 jQuery Tour - the flexible Tour plugin 1.0
 (1.0.0 - by revaxarts)

 Copyright (c) 2011 Xaver Birsak
 http://rxa.li/tour

 Licensed under the Envato Pty Ltd License Terms:
 http://codecanyon.net/wiki/support/legal-terms/licensing-terms/

 limited, non-exclusive, non-transferable, non-sublicensable license
*/
window.jTour=function(h,O){function V(){G=(window.innerWidth||document.documentElement.clientWidth)/u;H=(window.innerHeight||document.documentElement.clientHeight)/u}function P(b){switch(b.keyCode){case 37:"keyup"==b.type&&0<e?I():b.preventDefault();break;case 39:"keyup"==b.type?v():b.preventDefault();break;case 38:"keyup"==b.type?s(-0.25):b.preventDefault();break;case 40:"keyup"==b.type?s(0.25):b.preventDefault();break;case 32:r=!0;"keyup"==b.type?B(!0):b.preventDefault();break;case 27:"keyup"==
b.type?C():b.preventDefault()}}function D(b){b||(b=e);J=J||$(window).scrollTop();K=K||$(window).scrollLeft();t.show().fadeIn(function(){c.pauseOnHover&&d.bind({"mouseenter.jTour":B,"mouseleave.jTour":E});c.keyboardNav&&$(document).bind({"keyup.jTour":P,"keydown.jTour":P});y=!1;e=b;c.onStart.call(i,e);L(b)});c.showControls&&(n.find(".play").hide(),n.find(".pause").show())}function C(){clearTimeout(w);p.clearQueue().stop();t.hide();c.pauseOnHover&&d.unbind(".jTour");c.keyboardNav&&$(document).unbind(".jTour");
c.scrollBack?M(K,J,c.scrollDuration,function(){c.onStop.call(i,e)}):c.onStop.call(i,e);Q();e=0;c.showControls&&(n.find(".play").show(),n.find(".pause").hide())}function B(b){y&&!0===b?(r=!r,E()):(clearTimeout(w),p.clearQueue().stop(),c.showControls&&(n.find(".play").show(),n.find(".pause").hide()),y=!0)}function E(){if(y&&x&&!r){clearTimeout(w);var b=p.width()/(z.width()/100)/100,a=h[e].live||R.live,a=a-a*b;p.clearQueue().stop().animate({width:"100%"},{duration:a*(1/c.speed),easing:"linear",step:F,
complete:v});c.showControls&&(n.find(".play").hide(),n.find(".pause").show())}y=!1}function v(){q&&h[e].steps&&(h[e].onStep&&h[e].onStep.call(i,l,100),$.each(q,function(b,a){h[e].steps[q[b]].call(i,l,a)}),q=null);if(h[e].goTo)return window.location=h[e].goTo+"#jTour="+(e+1),setTimeout(function(){location.reload()},1E3),!1;e+1<N?(clearTimeout(w),p.clearQueue().stop(),L(++e)):(C(),c.onFinish.call(i,e))}function I(){0<e&&(clearTimeout(w),p.clearQueue().stop(),L(--e))}function L(b){var a=$.extend({},
R,h[b]),m=a.element?"string"==typeof a.element?$(a.element):a.element:0;if(m.length){if("auto"===a.live){var e=$("<div>").html(a.html).text().length;a.live=h[b].live=Math.max(2500,2500*Math.log(e/10)+1E3)}a.live=Math.abs(a.live);l?l.onBeforeHide.call(i,$(l.element)):(a.delayOut=0,a.animationOut="hide");d[a.animationOut](a.delayOut,function(){d.css({left:0,top:0,"min-width":0});l&&l.onHide.call(i,$(l.element));w=setTimeout(function(){var g,e,o,h;z.html(a.html);c.onChange.call(i,b);var f;if(m[0]===
A[0])g=G*u,e=H*u/2-d.outerHeight()/2,o=0,h=0;else if("area"==m[0].nodeName.toLowerCase()){h=m[0].coords.split(",");g=$("img[usemap=#"+m.parent().attr("name")+"]");var j=g.offset(),W=parseInt(g.css("paddingTop"),10);o=parseInt(g.css("paddingLeft"),10);var s=parseInt(g.css("borderTopWidth"),10),t=parseInt(g.css("borderLeftWidth"),10);g=h[2]-h[0];e=h[3]-h[1];o=parseInt(h[0],10)+j.left+o+t;h=parseInt(h[1],10)+j.top+W+s}else g=m.outerWidth(),e=m.outerHeight(),o=m.offset().left,h=m.offset().top;f={left:o,
top:h};j={x:0,y:0};switch(a.position){case "ne":if(!isNaN(a.offset))a.offset={x:0,y:a.offset};f.top-=d.outerHeight()+a.offset.y;f.left=o+g-d.outerWidth()+a.offset.x;j.x=g/2-+d.outerWidth()/2+a.offset.x;j.y=-e/2-d.outerHeight()/2-a.offset.y;break;case "nw":if(!isNaN(a.offset))a.offset={x:0,y:a.offset};f.top-=d.outerHeight()+a.offset.y;f.left=o-a.offset.x;j.x=-g/2+d.outerWidth()/2-a.offset.x;j.y=-e/2-d.outerHeight()/2-a.offset.y;break;case "n":if(!isNaN(a.offset))a.offset={x:0,y:a.offset};f.top-=d.outerHeight()+
a.offset.y;f.left+=(g-d.outerWidth())/2+a.offset.x;j.x=a.offset.x;j.y=-e/2-d.outerHeight()/2-a.offset.y;break;case "se":if(!isNaN(a.offset))a.offset={x:0,y:a.offset};f.top+=e+a.offset.y;f.left=o+g-d.outerWidth()+a.offset.x;j.x=g/2-d.outerWidth()/2+a.offset.x;j.y=e/2+d.outerHeight()/2+a.offset.y;break;case "sw":if(!isNaN(a.offset))a.offset={x:0,y:a.offset};f.top+=e+a.offset.y;f.left=o-a.offset.x;j.x=-g/2+d.outerWidth()/2-a.offset.x;j.y=e/2+d.outerHeight()/2+a.offset.y;break;case "s":if(!isNaN(a.offset))a.offset=
{x:0,y:a.offset};f.top+=e+a.offset.y;f.left+=(g-d.outerWidth())/2+a.offset.x;j.x=a.offset.x;j.y=e/2+d.outerHeight()/2+a.offset.y;break;case "w":if(!isNaN(a.offset))a.offset={x:a.offset,y:0};f.top-=d.outerHeight()/2-e/2-a.offset.y;f.left-=d.outerWidth()+a.offset.x;j.x=-g/2+d.outerWidth()/2-a.offset.x;j.y=-a.offset.y;break;case "e":if(!isNaN(a.offset))a.offset={x:a.offset,y:0};f.top-=d.outerHeight()/2-e/2-a.offset.y;f.left+=g+a.offset.x;j.x=g/2-d.outerWidth()/2+a.offset.x;j.y=-a.offset.y;break;case "c":if(!isNaN(a.offset))a.offset=
{x:0,y:a.offset};f.top-=d.outerHeight()/2-e/2-a.offset.y;f.left+=(g-d.outerWidth())/2+a.offset.x;j.x=a.offset.x;j.y=a.offset.y}scrolltopos={x:Math.max(0,o-(G*u/2-g/2)+j.x),y:Math.max(0,h-(H*u/2-e/2)+j.y)};M(scrolltopos.x,scrolltopos.y,c.scrollDuration,function(){S.removeAttr("class").addClass(k+"arrow "+a.position);a.steps?(q=[],$.each(a.steps,function(a){q.push(a)}),F=function(b){a.onStep.call(i,m,b);var c=q.length;if(c)for(var d=0;d<c;d++)b>=q[d]&&(a.steps[q[d]].call(i,m),q.shift())}):F=function(b){a.onStep.call(i,
m,b)};c.showControls&&(0==b?n.find("a.prev").hide():b==N-1?n.find("a.next").hide():n.find("a.next, a.prev").show());a.onBeforeShow.call(i,m);p.clearQueue().stop().css({width:$.browser.opera?"1%":"0%"});f["min-width"]=d.width();d.css(f).attr("class",T+" step-"+b)[a.animationIn](a.delayIn,function(){a.onShow.call(i,m);l=a;x&&(r=!1,p.stop().animate({width:"100%"},{duration:a.live*(1/c.speed),easing:"linear",step:F,complete:v}))})})},a.wait)})}else console&&m&&console.log('Element $("'+m.selector+"\") doesn't exist!"),
N--,v()}function s(b){c.speed=Math.max(0.1,c.speed-b);B();E()}function U(b,a,c,e){if("object"==typeof b)a=b.offset().top,b=b.offset().left,c=a;var g={};null!=b&&(g.left=b);null!=a&&(g.top=a);d.animate(g,{duration:!1===c?0:c,complete:e&&function(){e.call(i)}})}function Q(){l&&(l.onBeforeHide.call(i,$(l.element)),p.clearQueue().stop(),d.stop(),d[l.animationOut](l.delayOut,function(){z.empty();l.onHide.call(i,$(l.element))}))}function M(b,a,d,e){A.scrollTop()==a&&A.scrollLeft()==b&&(d=1);var g={};$.each(c.axis,
function(d,c){g[X[c]]="x"==c?b:a});A.animate(g,{duration:d||c.scrollDuration,complete:e&&function(){e.call(i)},queue:!0,easing:c.easing})}if(this===window)return new jTour(h,O);("function"!==typeof jQuery||171>jQuery.fn.jquery.replace(/\./g,""))&&$.error("jQuery >1.7 is required!");$.isArray(h)||$.error("tourdata must be a valid array");var d,z,p,S,n,t,k="jTour_",A=$.browser.webkit?$("body"):$("html"),x,y=!1,e=0,l,N=h.length,w,q,F,r=!1,J,K,G,H,u=2.5,T,X={x:"scrollLeft",y:"scrollTop"},c=$.extend({},
{speed:1,overlayOpacity:0.2,axis:"xy",autostart:!1,autoplay:!0,pauseOnHover:!0,keyboardNav:!0,showProgress:!0,showControls:!0,scrollBack:!1,scrollDuration:300,easing:"swing",onStart:function(){},onStop:function(){},onChange:function(){},onFinish:function(){},position:"c",live:"auto",offset:0,wait:0,delayIn:200,delayOut:100,animationIn:"fadeIn",animationOut:"fadeOut",onBeforeShow:function(){},onShow:function(){},onBeforeHide:function(){},onHide:function(){},onStep:function(){}},O),R={position:c.position,
live:c.live,offset:c.offset,wait:c.wait,delayIn:c.delayIn,delayOut:c.delayOut,animationIn:c.animationIn,animationOut:c.animationOut,onBeforeShow:c.onBeforeShow,onShow:c.onShow,onBeforeHide:c.onBeforeHide,onHide:c.onHide,onStep:c.onStep,element:A,goTo:null},i={start:function(b){D(b)},restart:function(b){Q();e=b||0;D()},stop:function(){C()},next:function(){v()},prev:function(){I()},faster:function(b){s(b||0.25)},slower:function(b){s(b||-0.25)},moveTo:function(b,a,c,d){U(b,a,c,d)},offset:function(b,
a,c,d){U("+="+b,"+="+a,c,d)},scroll:function(b,a,c,d){M(b,a,c,d)}};i.box=i.content=i.overlay=null;i.tourdata=h;(function(){d=$("<div></div>",{"class":k+"box"}).hide().appendTo("body");S=$("<div/>",{"class":k+"arrow"}).appendTo(d);z=$("<div/>",{"class":k+"content"}).appendTo(d);$("<div/>",{"class":k+"progress"}).html('<div class="'+k+'progress_bar"></div>').appendTo(d);p=d.find("."+k+"progress_bar");c.showControls&&(n=$("<ul/>",{"class":k+"nav"}).html('<li><a class="'+k+'nav_btn prev" title="previous" data-role="prev">&nbsp;</a></li><li><a class="'+
k+'nav_btn play" title="play" data-role="play">&nbsp;</a></li><li><a class="'+k+'nav_btn pause" title="pause" data-role="pause">&nbsp;</a></li><li><a class="'+k+'nav_btn stop" title="stop" data-role="stop">&nbsp;</a></li><li><a class="'+k+'nav_btn next" title="next" data-role="next">&nbsp;</a></li><li><a class="'+k+'nav_btn slower" title="slower" data-role="slower">&nbsp;</a></li><li><a class="'+k+'nav_btn faster" title="faster" data-role="faster">&nbsp;</a></li>').appendTo(d).delegate("a","click",
function(){r=!0;switch($(this).data("role")){case "next":v();break;case "prev":I();break;case "slower":r=!1;s(-0.25);break;case "faster":r=!1;s(0.25);break;case "pause":B();x=!1;break;case "play":r=!1;x=!0;E();d.trigger("mouseleave");break;case "stop":C(),x=!1}}),d.addClass("has-controls"));t=$("<div/>",{"class":k+"overlay"}).css("opacity",c.overlayOpacity).hide();c.showProgress||d.find("."+k+"progress").hide();!1!==c.overlayOpacity?t.appendTo("body").css("height",$(document).height()):t.remove();
T=d.attr("class");$(window).unbind(".jTour").bind("resize.jTour",V).resize();i.box=d;i.content=z;i.overlay=t;x=c.autoplay;c.axis=c.axis.split("");if(location.hash){var b=location.hash.split("=");if(b[0].match(/jTour/))return location.hash="",D(parseInt(b[1],10)),!1}c.autostart&&D()})();return i};
